<div class="filter-container" *ngIf="showFilters">

    <div class="ratings div">
        <mat-chip-list multiple>
            <mat-chip color="rating" *ngFor="let rate of ratings" (click)="toggleRatingSelection(rate)"
                selectable="true" [selected]="rate.isSelected">
                <div class="rating-container">
                    <div>{{rate.text}}</div>
                    <div class="bold" *ngIf="rate.isSelected">&#10003;</div>
                </div>
            </mat-chip>
        </mat-chip-list>

    </div>

    <input class="search" placeholder="ðŸ”Žï¸Ž Search" (keyup)="searchInput($event)" autocomplete="off">
    <!-- <mat-label>Version</mat-label>
        <mat-select (selectionChange)="versionSelected($event)">
            <mat-option value="-1">All Versions</mat-option>
            <mat-option *ngFor="let version of versions" [value]="version">
                {{version != null ? version : 'NA'}}
            </mat-option>
        </mat-select> -->

    <div class="filterss">

        <div class="dropdown-container">
            <div class="top" (click)="toggler('version')">
                <div class="label">Version</div>
                <div class="chevron">
                    <span class="material-symbols-outlined" *ngIf="expandVersion">
                        expand_less
                    </span>
                    <span class="material-symbols-outlined" *ngIf="!expandVersion">
                        expand_more
                    </span>

                </div>
            </div>
            <div class="options" *ngIf="expandVersion">
                <div class="option" (click)="versionSelected('-1')">All</div>
                <div class="option" (click)="versionSelected(version)" *ngFor="let version of versions">
                    {{version != null ? version : 'NA'}}
                </div>
            </div>
        </div>

        <!-- <mat-form-field>
                    <mat-label>Year</mat-label>
                    <mat-select (selectionChange)="yearSelected($event)">
                        <mat-option value="-1">All Years</mat-option>
                        <mat-option *ngFor="let year of years" [value]="year">
                            {{year != null ? year : 'NA'}}
                        </mat-option>
                    </mat-select>
                </mat-form-field> -->
        <div class="dropdown-container">
            <div class="top" (click)="toggler('year')">
                <div class="label">Year</div>
                <div class="chevron">
                    <span class="material-symbols-outlined" *ngIf="expandYear">
                        expand_less
                    </span>
                    <span class="material-symbols-outlined" *ngIf="!expandYear">
                        expand_more
                    </span>
                </div>
            </div>
            <div class="options" *ngIf="expandYear">
                <div class="option" (click)="yearSelected('-1')">All</div>
                <div class="option" (click)="yearSelected(year)" *ngFor="let year of years">
                    {{year != null ? year : 'NA'}}
                </div>
            </div>
        </div>

        <div class="dropdown-container">
            <div class="top" (click)="toggler('sort')">
                <div class="label">Sort</div>
                <div class="chevron">
                    <span class="material-symbols-outlined" *ngIf="expandSort">
                        expand_less
                    </span>
                    <span class="material-symbols-outlined" *ngIf="!expandSort">
                        expand_more
                    </span>
                </div>
            </div>
            <div class="options" *ngIf="expandSort">
                <div class="option" (click)="sortChange(sort.value)" *ngFor="let sort of sortingArray">
                    {{sort.text}}
                </div>
            </div>
        </div>
    </div>


    <!-- <mat-form-field appearance="outline">
        <mat-label>Sort By</mat-label>
        <mat-select (selectionChange)="sortChange($event)">
            <mat-option *ngFor="let sort of sortingArray" [value]="sort.value">
                {{sort.text}}
            </mat-option>
        </mat-select>
    </mat-form-field> -->

</div>
<!-- <div class="sorting-container">
    <div class="sort-box left" (click)="sortByEmit('version')">
        <div class="text">Version</div>
        <mat-icon *ngIf="!versionSorted.sorted">sort</mat-icon>
        <div *ngIf="versionSorted.sorted && versionSorted.type == 'A'">&#8642;</div>
        <div *ngIf="versionSorted.sorted && versionSorted.type == 'D'">&#8638;</div>
    </div>
    <div class="sort-box center" (click)="sortByEmit('rating')">
        <div class="text">Rating</div>
        <mat-icon *ngIf="!ratingSorted.sorted">sort</mat-icon>
        <div *ngIf="ratingSorted.sorted && ratingSorted.type == 'A'">&#8642;</div>
        <div *ngIf="ratingSorted.sorted && ratingSorted.type == 'D'">&#8638;</div>
        
    </div>
    <div class="sort-box right" (click)="sortByEmit('date')">
        <div class="text">Date</div>
        <mat-icon *ngIf="!dateSorted.sorted">sort</mat-icon>
        <div *ngIf="dateSorted.sorted && dateSorted.type == 'A'">&#8642;</div>
        <div *ngIf="dateSorted.sorted && dateSorted.type == 'D'">&#8638;</div>
    </div>
</div> -->

<div class="mobile-filters" *ngIf="showFilterButton" [ngStyle]="{'height' : showFilters ? 'unset' : '100%'}">

    <button mat-flat-button color="primary" class="filter-button" (click)="toggleFilters()">
        <img class="filter-img" src="assets/filter.png" alt="filter">
        <div class="text">{{showFilters ? 'Hide' :'Show'}} Filters</div>
    </button>
</div>