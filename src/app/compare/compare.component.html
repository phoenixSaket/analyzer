<div class="container shadows" *ngIf="dataToShow.length > 0 && chartOptions?.series.length > 0">
    <div class="column" [ngClass]="{'heading' : m == 0}" *ngFor="let column of dataToShow; ;let m = index">
        <div class="row" [ngClass]="{'heading' : i == 0}" *ngFor="let row of column; let i = index;">
            <div *ngIf="i < 9 || m==0">{{row}}</div>
            <div *ngIf="i >= 9 && m!=0" class="ratings">
                <div class="number">{{row.rating}}</div>
                <div class="percent">{{row.percent}}</div>
            </div>
        </div>
    </div>
</div>

<div class="chart-container shadows" *ngIf="!!chartOptions">
    <apx-chart [series]="chartOptions?.series" [chart]="chartOptions?.chart" [dataLabels]="chartOptions?.dataLabels"
        [plotOptions]="chartOptions?.plotOptions" [yaxis]="chartOptions?.yaxis" [legend]="chartOptions?.legend"
        [fill]="chartOptions?.fill" [stroke]="chartOptions?.stroke" [tooltip]="chartOptions?.tooltip"
        [xaxis]="chartOptions?.xaxis" [colors]="chartOptions?.colors"></apx-chart>
</div>

<ng-container *ngTemplateOutlet="svg"></ng-container>

<ng-template #svg>
    <div class="svg">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#7180ac" fill-opacity="1"
                d="M0,224L40,192C80,160,160,96,240,101.3C320,107,400,181,480,213.3C560,245,640,235,720,202.7C800,171,880,117,960,117.3C1040,117,1120,171,1200,160C1280,149,1360,75,1400,37.3L1440,0L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z">
            </path>
        </svg>
    </div>
</ng-template>

<div class="loader" *ngIf="!(dataToShow.length > 0 && chartOptions?.series.length > 0)">
    <app-loader></app-loader>
</div>